<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lateef:wght@200;300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <title>Ù†ÙŠØ§Ø¨Ø© Ø§Ù„Ø´Ø¦ÙˆÙ† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØºØ³Ù„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„</title>

  <style>
    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: "Lateef", "Cairo", Arial, sans-serif;
      direction: rtl;
    }

    body {
      /* background-image: url('./images/background.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-color: rgba(0, 0, 0, 0.5);
      background-blend-mode: overlay; */
      background: linear-gradient(to bottom right, #0a1f44, #1e3c72, #2a5298);

      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      text-align: center;
      min-height: 100vh;
    }

    main {
      display: flex;
      justify-content: center;
      align-items: center;
      /* âœ… Ø¨Ø¯Ù„ "flex-end" Ø®Ù„ØªÙ‡Ø§ "center" Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙƒÙˆÙ† ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© */
      flex: 1;
      flex-direction: column;
      /* âœ… ØªØ®Ù„ÙŠÙ‡Ù… ØªØ­Øª Ø¨Ø¹Ø¶ */
      gap: 20px;
      /* âœ… Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    }

    .buttons-container {
      display: flex;
      flex-direction: column;
      /* âœ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªØ­Øª Ø¨Ø¹Ø¶ */
      gap: 20px;
      justify-content: center;
      align-items: center;
    }

    .buttons-container a {
      display: inline-block;
      padding: 15px 25px;
      background-color: rgba(255, 255, 255, 0.2);
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      border-radius: 8px;
      transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
      width: 220px;
      /* âœ… Ù†ÙØ³ Ø§Ù„Ø¹Ø±Ø¶ Ù„ÙƒÙ„ Ø²Ø± */
      text-align: center;
    }

    .buttons-container a:hover {
      background-color: rgba(255, 255, 255, 0.4);
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
    }

    footer {
      background-color: rgba(0, 0, 0, 0.3);
      padding: 15px;
      font-size: 0.9rem;
    }

    @media (max-width: 600px) {
      .buttons-container a {
        width: 100%;
        /* âœ… Ø¹Ø±Ø¶ Ù…ØªØ¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        padding: 12px 20px;
        font-size: 1.7rem;
      }
    }
    /* ***************************** */
     /* Ø²Ø± Ø§Ù„Ø´Ø§Øª */
.chat-float-btn{
  position:fixed;
  bottom:20px;
  right:20px;
  display:flex;
  align-items:center;
  gap:10px;
  background:#0d6efd;
  color:white;
  padding:12px 18px;
  border-radius:50px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.3);
  z-index:1001;
  animation:pulse 2s infinite;
  transition:.3s ease;
}

.chat-float-btn:hover{
  transform:scale(1.05);
}

.chat-float-btn .icon{
  font-size:24px;
}

.chat-float-btn .label{
  font-size:15px;
  font-weight:500;
  white-space:nowrap;
}

/* Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media(max-width:600px){
  .chat-float-btn{
    padding:12px 20px;      /* Ø¹Ø±Ø¶ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø·ÙˆÙ„ */
    border-radius:30px;    /* ÙŠØ®Ù„ÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ† Ø¯Ø§ÙŠØ±Ø© */
  }
}

  .chat-float-btn .label{
font-size:20px;  }
}

/* @keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(13,110,253,.5)}
  70%{box-shadow:0 0 0 15px rgba(13,110,253,0)}
  100%{box-shadow:0 0 0 0 rgba(13,110,253,0)}
} */
    @keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}


/* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø´Ø§Øª */
.chat-containe {
  font-family: 'Cairo', sans-serif;
  
  position:fixed;
  bottom:90px;
  right:20px;
  width:360px;
  height:420px;
  background:#fff;
  border-radius:16px;
  display:flex;
  flex-direction:column;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
  opacity:0;
  pointer-events:none;
  transform:translateY(30px) scale(.95);
  transition:.7s cubic-bezier(.22, 1, .36, 1);
    z-index: 1000; /* Ù…Ù…ÙƒÙ† Ù†Ø±ÙØ¹ Ø§Ù„Ø±Ù‚Ù… */
color:black;
}

.chat-container.show{
  opacity:1;
  pointer-events:auto;
  transform:translateY(0) scale(1);
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
.chat-header{
font-family: "Times New Roman", Georgia, serif;

  background:#0d6efd;
  color:#fff;
  padding:14px;
  text-align:center;
  border-radius:16px 16px 0 0;
}

/* Ø§Ù„Ø¬Ø³Ù… */
.chat-body{
  flex:1;
  padding:15px;
  overflow-y:auto;
  background:#f7f9fc;
}

/* Ø§Ù„Ø¨Ø§Ø¨Ù„Ø² */
.message{
font-family: "Times New Roman", Georgia, serif;

  max-width:75%;
  padding:10px 14px;
  margin-bottom:10px;
  border-radius:16px;
  font-size:18px;
  line-height:1.5;
  animation:fadeIn .6s ease;
}

.user{
  background:#87CEEB;
  margin-left:auto;
  border-bottom-right-radius:4px;
  animation:slideRight .6s ease-out;

}

.bot{
  background:#e2e3e5;
  margin-right:auto;
  border-bottom-left-radius:4px;
  animation:slideLeft .6s ease-out;

}

@keyframes slideRight{
  from{opacity:0; transform:translateX(20px)}
  to{opacity:1; transform:translateX(0)}
}

@keyframes slideLeft{
  from{opacity:0; transform:translateX(-20px)}
  to{opacity:1; transform:translateX(0)}
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

/* ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª */
.typing{
  display:flex;
  gap:4px;
}
.typing span{
  width:6px;
  height:6px;
  background:#555;
  border-radius:50%;
  animation:blink 2.2s infinite both;
}
.typing span:nth-child(2){animation-delay:.2s}
.typing span:nth-child(3){animation-delay:.4s}

@keyframes blink{
  0%,80%,100%{opacity:.2}
  40%{opacity:1}
}

/* Ø§Ù„ÙÙˆØªØ± */
.chat-footer{
  display:flex;
  border-top:1px solid #ddd;
}
.chat-footer input{
  flex:1;
  border:none;
  padding:14px;
  outline:none;
}
.chat-footer button{
  background:#0d6efd;
  color:#fff;
  border:none;
  padding:0 18px;
  cursor:pointer;
  transition:.3s ease;
}
.chat-footer button:active{
  transform:scale(.92);
}

/* Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media(max-width:600px){
  .chat-container{
    width:95%;
    height:65%;
    right:50%;
    transform:translate(50%,30px);
  }
  .chat-container.show{
    transform:translate(50%,0);
  }
}
    /* ***************************** */
  </style>
</head>

<body>

  <div id="header"></div>

  <main>
    <div class="buttons-container">
      <a href="papers.html" target="_blank">Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</a>
      <a href="inquiry.html" target="_blank">Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª</a>
      <a href="search.html">Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø§Ù„ÙØ­Øµ</a>
      <a href="id.html">Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„ÙØ­Øµ</a>
    </div>
    <!--*************************  -->
       <div class="chat-float-btn" id="toggleChat">
  <span class="icon">ğŸ§</span>
  <span class="label">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ù†Ø§</span>
</div>

<div class="chat-container" id="chatBox">
  <div class="chat-header"> Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙØ­Øµ Ø§Ù„Ù…ØªÙ†ÙˆØ¹</div>

  <div class="chat-body" id="chatBody">
    <div class="message bot">ğŸ‘‹ Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
Ù…Ø¹ Ø­Ø¶Ø±ØªÙƒ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙØ­Øµ Ø§Ù„Ù…ØªÙ†ÙˆØ¹
Ø£Ø®Ø¨Ø§Ø± Ø­Ø¶Ø±ØªÙƒ ÙŠØ§Ø±Ø¨ ØªÙƒÙˆÙ† Ø¨Ø®ÙŠØ± 
Ø£Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§ØªÙØ¶Ù„.</div>
  </div>

  <div class="chat-footer">
    <input id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ...">
    <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
  </div>
</div>
    <!--*****************************  -->
  </main>

  <footer>
    <p>Â© 2025 Ù†ÙŠØ§Ø¨Ø© Ø§Ù„Ø´Ø¦ÙˆÙ† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØºØ³Ù„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ - Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</p>
  </footer>

  <script>
    // âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø®Ø§Ø±Ø¬Ù‰
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header').innerHTML = data;
      })
      .catch(error => console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø±:', error));

    // âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù€ service worker (Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(registrations => {
        for (let registration of registrations) {
          registration.unregister();
        }
      }).then(() => {
        navigator.serviceWorker.register('./service-worker.js')
          .then(() => console.log('âœ… Service Worker Registered Ù…Ù† Ø¬Ø¯ÙŠØ¯'))
          .catch(err => console.error('âŒ ÙØ´Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„:', err));
      });
    }
    // **********************
    const toggleChat=document.getElementById("toggleChat");
const chatBox=document.getElementById("chatBox");
const chatBody=document.getElementById("chatBody");
const chatInput=document.getElementById("chatInput");

toggleChat.onclick = () => {
  const isOpen = chatBox.classList.toggle("show");

  if (isOpen) {
    // Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­: ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø´Ø§Øª ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­ÙŠØ©
    chatBody.innerHTML = "";
    addMessage("ğŸ‘‹ Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡\nÙ…Ø¹ Ø­Ø¶Ø±ØªÙƒ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙØ­Øµ Ø§Ù„Ù…ØªÙ†ÙˆØ¹\nØ£Ø®Ø¨Ø§Ø± Ø­Ø¶Ø±ØªÙƒ ÙŠØ§Ø±Ø¨ ØªÙƒÙˆÙ† Ø¨Ø®ÙŠØ±\nØ£Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§ØªÙØ¶Ù„.", "bot");
  } else {
    // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®ØªØ§Ù…
    const closingMsg = "ğŸ‘‹ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠØŒ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‚Ø§Ø¡!";
    addMessage(closingMsg, "bot");

    // ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø´Ø§Øª Ù„Ø£Ø³ÙÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    chatBody.scrollTop = chatBody.scrollHeight;

    // Ù†ØªØ±Ùƒ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© 10 Ø«ÙˆØ§Ù†ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
    setTimeout(() => {
      // Ø¹Ù…Ù„ FadeOut Ù„Ù„Ø´Ø§Øª
      chatBox.style.transition = "opacity 1s ease";
      chatBox.style.opacity = "0";

      // Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù€ FadeOut Ù†ØºÙ„Ù‚ Ø§Ù„Ø´Ø§Øª ÙˆÙ†Ø¹ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      setTimeout(() => {
        chatBox.classList.remove("show");
        chatBox.style.opacity = ""; // Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¯Ù…
      }, 1000);
    }, 10000); // Ù…Ø¯Ø© Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®ØªØ§Ù…: 10 Ø«ÙˆØ§Ù†ÙŠ
  }
};



function addMessage(text,type){
  const div=document.createElement("div");
  div.className=`message ${type}`;
  div.innerText=text;
  chatBody.appendChild(div);
  chatBody.scrollTop=chatBody.scrollHeight;
}

function typingBubble(){
  const div=document.createElement("div");
  div.className="message bot";
  div.innerHTML=`<div class="typing">
    <span></span><span></span><span></span>
  </div>`;
  chatBody.appendChild(div);
  chatBody.scrollTop=chatBody.scrollHeight;
  return div;
}

async function sendMessage(){
  const text=chatInput.value.trim();
  if(!text) return;

  addMessage(text,"user");
  chatInput.value="";

  const typing=typingBubble();

  try{
    const res=await fetch("/api/assistant",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({question:text})
    });
    const data=await res.json();
    typing.innerText=data.answer||"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø§Ø¨Ø© Ø­Ø§Ù„ÙŠØ§Ù‹";
  }catch{
    typing.innerText="âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
  }
}

chatInput.addEventListener("keydown",e=>{
  if(e.key==="Enter") sendMessage();
});
    // *******************
  </script>
</body>


</html>
















